template(name="page_home")
  {{> tile_wizard}}
  .row.gridster-header
    .eight.columns
      h1.title Asteroid

    .four.columns
      a#toggle-wizard(href="#")
        h1
          i.general.foundicon-plus#wizard-toggle
      
  .row
    .twelve.columns.no-padding
      .loader
        span.dot_1
        span.dot_2
        span.dot_3
        span.dot_4
        span.dot_5

      {{> gridster}}

  .row.gridster-header
    .eight.columns
      h1.title Github pushes
      
  .row
    .twelve.columns.no-padding
      {{> github}}

template(name="gridster")
  .gridster
    ul
      {{#each tiles}}
        {{> tile}}
      {{/each}}

template(name="github")
  .gridster
    ul
      {{#each tiles}}
        {{> tile}}
      {{/each}}

template(name="tile")
  li("data-col"="{{col}}", "data-row"="{{row}}", "data-sizex"="{{size_x}}", "data-sizey"="{{size_y}}", class="metro-tile {{alert}}", id="{{_id}}", style="background: {{color}}")
    a(href="", class="remove-tile")
      i.general.foundicon-remove
    a(href="/{{type}}", class="tile-settings")
      i.general.foundicon-settings
    h2
      {{#isolate}}
        {{metric}}
      {{/isolate}}
    h5
      {{title}}
    {{#if user}}
      h6 {{user.profile.full_name}}
      img.gravatar(src="{{gravatar_url}}")
    {{/if}}

